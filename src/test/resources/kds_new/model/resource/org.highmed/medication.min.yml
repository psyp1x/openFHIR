grammar: FHIRConnect/v0.9.0
type: model
metadata:
  name: RESOURCE.medication.min
  version: 0.0.1-alpha
spec:
  system: FHIR
  version: R4
  openEhrConfig:
    archetype: openEHR-EHR-CLUSTER.medication.v2
    revision: 0.0.1-alpha
  fhirConfig:
    structureDefinition: http://hl7.org/fhir/StructureDefinition/Medication

mappings:
  - name: "root"
    with:
      fhir: "$resource"
      openehr: "$archetype"
      type: "NONE"
    followedBy:
      mappings:
        - name: "code-text"
          with:
            fhir: "$fhirRoot.code.text"
            openehr: "items[at0132]"
        - name: "code-code"
          with:
            fhir: "$fhirRoot.code.coding.code"
            openehr: "items[at0132]"

        - name: "form"
          with:
            fhir: "form"
            openehr: "items[at0071]"

        - name: "amount"
          with:
            fhir: "amount"
            openehr: "items[at0115]"

